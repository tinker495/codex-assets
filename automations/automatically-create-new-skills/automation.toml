version = 1
id = "automatically-create-new-skills"
name = "Automatically create new skills"
prompt = "Review the last day of ~/.codex/sessions and detect skill-level operational noise across all used skills, including repeated broad searches, fallback loops, repeated retries, and user correction patterns. When a skill shows high noise, automatically refine that personal skill context so first-pass behavior includes search-as-discovery, path filtering, trace-plus-rg evidence gating, and fallback rules. Noise trigger (last 24h sessions): treat noise as HIGH if any listed signal appears >=2 times or appears in >=2 separate sessions. Signals: [quick_validate failure, frontmatter/YAML error, PyYAML install/run mention, ModuleNotFoundError: No module named 'yaml', No such file or directory, missing collect_branch_info.py, missing /shared/code-health, Error: unknown flag: --json, Error: unknown flag: --repo, Error: PRD file not found: prd.json, command not found: grepai, command not found: timeout, command not found: pdfinfo, fatal: not a git repository, Error: could not open a new TTY, jq: parse error, unable to resolve PR from current branch, can't create temp file for here document: operation not permitted, Sandbox(Denied, PermissionError: [Errno 1] Operation not permitted, blocked by policy], ls: /automations/automatically-create-new-skills, ERROR:xenon:block, ERROR:xenon:module, date: invalid argument 's' for -I, No module named pytest, failed to send request to Ollama, ERROR collecting, ModuleNotFoundError: No module named]. If HIGH, refine only the recently touched skill(s) and path-sensitive automations. Guardrails: quote any YAML frontmatter value that contains ':', re-run quick_validate.py once, and if it fails twice, stop and report; if yaml import fails, re-run validation via uv run --with pyyaml (do not use plain python). Guardrails for path-sensitive workflows: before running repo scripts or shared paths, verify existence with test -f/test -d or rg --files; if missing, fallback to git-based branch context commands (git log --since=1.week --name-only, git diff --stat), skip non-existent shared paths, and continue. Before sed/cat/rg on specific file paths, verify with test -f or rg --files -g; if missing, do not run the command, report the missing path, and fallback to git log --since=1.week --name-only plus git diff --stat when repo context is needed. Shell/sandbox guardrails: avoid here-doc syntax (<<EOF); use python -c or single-line commands. Xenon guardrail: if xenon reports rank C (block/module), do not retry repeatedly; collect failing targets once and continue with report. Date guardrail: if date -I fails, fallback to python -c \"import datetime; print(datetime.date.today().isoformat())\". Pytest guardrail: if pytest module import fails, rerun checks with uv run --with pytest pytest; if unavailable, skip and report verification gap. Do not run rm -f or rm -rf for cleanup in automation runs; leave temp files and report skipped cleanup. Before writing any file, verify destination writability with test -w on the parent directory; if not writable, fallback to current repo root or $CODEX_HOME, otherwise stop and report. Before any use of $CODEX_HOME, set CODEX_HOME=${CODEX_HOME:-$HOME/.codex}; never use /automations absolute paths and always use $CODEX_HOME/automations/<id>. If a tool rejects --json, rerun without the flag and parse text output. If gh reports unknown flag --repo, rerun without --repo and pass the repository as positional OWNER/REPO. If jq parsing fails, rerun without --jq/--json and parse plain-text output, then report fallback mode. If PR resolution fails with unable to resolve PR from current branch, fallback to gh pr list --author @me --state open and continue with explicit PR selection. If grepai is missing, use rg-based discovery and skip grepai-only steps. Ollama guardrail: if embeddings call fails with localhost:11434 connect error, skip embeddings-based steps and continue with rg/grep-only discovery; report fallback. Pytest collection guardrail: if collection fails with ModuleNotFoundError for a local module, verify repo root with git rev-parse --show-toplevel and confirm module path with rg --files; if missing, stop tests and report path/cwd mismatch. If timeout is missing, retry without timeout wrapper (or use gtimeout when available). If pdfinfo is missing, use Python PDF metadata fallback (pypdf/pdfplumber) or skip pdfinfo-specific checks with a note. Before git commands, verify git rev-parse --is-inside-work-tree. If gh fails due to /dev/tty, rerun once with GH_FORCE_TTY=0 GIT_TERMINAL_PROMPT=0 GH_PAGER=cat. Execution note: when validation is required, run via uv run --with pyyaml to avoid missing PyYAML. Detection guardrail: count noise signals only from JSONL records where type=response_item and payload.type=function_call_output, and ignore signal strings that appear inside user/developer prompt text or embedded command source blobs. Update existing personal skills first, keep edits minimal, validate with quick_validate.py, and open an inbox item with noise signals, changed skill files, and rationale. Create a new skill only if no existing skill can absorb the repeated pattern."
status = "ACTIVE"
rrule = "FREQ=WEEKLY;BYDAY=MO,TU,WE,TH,FR;BYHOUR=10;BYMINUTE=40"
cwds = ["/Users/mrx-ksjung/project/snk2501o-sinokor-placement-optimization", "/Users/mrx-ksjung/project/codex-skills"]
created_at = 1770210925008
updated_at = 1770947711510
